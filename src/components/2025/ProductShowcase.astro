---
import Icon from "@components/Icon.astro";
import ProductCard from "./ProductCard.astro";
---

<section class="product-container h-full py-20 lg:py-36 bg-[#FFFBEE]">
  <div class="container flex flex-col gap-10 mx-auto">
    <div
      class="flex flex-col items-center text-center w-full space-y-4 relative"
    >
      <p
        class="item uppercase font-medium text-[16px] md:text-[24px] text-center text-[#FAAB00]"
      >
        our product showcase
      </p>

      <h3
        class="item text-[#050505] font-bold text-4xl lg:text-[55px] tracking-tighter leading-tight max-w-[900px] w-full mx-auto capitalize"
      >
        showcase your masterpiece: the work exhibition moment
      </h3>
      <p
        class="item w-[310px] md:w-[480px] md:text-[16px] font-google font-normal"
      >
        Upload your best works for a chance to be featured in the spotlight at
        DevFest Enugu's showcase of innovative products!
      </p> 
      <button
        class="item font-google font-normal flex items-center gap-3 justify-center rounded-full bg-black mt-10 py-5 px-2 w-[250px] md:w-[300px] text-white text-[12px] capitalize"
      >
        <p>view our product showcase</p>
        <Icon class:list={"fill-white"} icon="pixelated-right-arrow" />
      </button>

      <!-- floating image -->
      <div>
        <img
          src="/images/2025/showcaseArc.png"
          alt=""
          class="item animate-tilt w-[40px] md:w-[80px] absolute top-[1.5rem] left-[7%]"
        />
        <img
          src="/images/2025/showcasePlus.png"
          alt=""
          class="item hidden md:flex absolute top-[12rem] right-[20%] z-10"
        />
        <img
          src="/images/2025/showDesign.png"
          alt=""
          class="item hidden md:flex absolute top-[9.5rem] right-[7%]"
        />
      </div>
    </div>

    <!-- product card -->
    <ProductCard />
  </div>
</section>

<script>
  import { animate, stagger, inView } from "motion";

  let hasAnimated = false;

  inView(".product-container", (element, _entry) => {
    if (hasAnimated) return;

    const items = (element as HTMLElement).querySelectorAll(".item");

    animate(
      items,
      { opacity: [0, 1], y: [20, 0] },
      { duration: 0.8, delay: stagger(0.25) }
    );

    hasAnimated = true;
    return () => {};
  });
</script>
